@use 'sass:map';

// theme-selectors
$theme-light-selector: ':root';
$theme-dark-selector: ":root[data-theme='dark']";
$theme-system-selector: ":root[data-theme='system']";

// 테마 팔레트 맵
$theme-light: (
  bg: #f7f7f8,
  surface: #ffffff,
  text: #111111,
  border: #e8e8ea,
  focus: #2684ff,
);

$theme-dark: (
  bg: #0f1115,
  surface: #161a22,
  text: #e6e8ee,
  border: #2a2f3a,
  focus: #60a5fa,
);

// CSS 변수로 내보내기
@mixin export-theme($theme) {
  --color-bg: #{map.get($theme, bg)};
  --color-surface: #{map.get($theme, surface)};
  --color-text: #{map.get($theme, text)};
  --color-border: #{map.get($theme, border)};
  --color-focus: #{map.get($theme, focus)};
}

#{$theme-light-selector} {
  @include export-theme($theme-light);
}

#{$theme-dark-selector} {
  @include export-theme($theme-dark);
}

#{$theme-system-selector} {
  // OS 설정 따르기 (prefers-color-scheme 활용)
  @media (prefers-color-scheme: dark) {
    @include export-theme($theme-dark);
  }
  @media (prefers-color-scheme: light) {
    @include export-theme($theme-light);
  }
}
